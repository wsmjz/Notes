<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>概念介绍 | 苹果家+</title>
    <meta name="generator" content="VuePress 1.5.2">
    
    <meta name="description" content="汇聚百川，终成江河">
    <link rel="preload" href="/assets/css/0.styles.7241b170.css" as="style"><link rel="preload" href="/assets/js/app.c7f0bb16.js" as="script"><link rel="preload" href="/assets/js/2.8fc9632e.js" as="script"><link rel="preload" href="/assets/js/3.d0ce4dad.js" as="script"><link rel="preload" href="/assets/js/13.1310b520.js" as="script"><link rel="prefetch" href="/assets/js/10.0371f1c9.js"><link rel="prefetch" href="/assets/js/11.8625b29e.js"><link rel="prefetch" href="/assets/js/12.d68dee99.js"><link rel="prefetch" href="/assets/js/14.31aabda5.js"><link rel="prefetch" href="/assets/js/15.a4a264d3.js"><link rel="prefetch" href="/assets/js/16.3552b9a9.js"><link rel="prefetch" href="/assets/js/17.2404ef31.js"><link rel="prefetch" href="/assets/js/18.3191d20c.js"><link rel="prefetch" href="/assets/js/19.72b97c6f.js"><link rel="prefetch" href="/assets/js/20.01e02421.js"><link rel="prefetch" href="/assets/js/21.d1c8fbc3.js"><link rel="prefetch" href="/assets/js/22.617aec34.js"><link rel="prefetch" href="/assets/js/23.fd5eba16.js"><link rel="prefetch" href="/assets/js/24.74d03f8e.js"><link rel="prefetch" href="/assets/js/25.1e771960.js"><link rel="prefetch" href="/assets/js/26.62c47062.js"><link rel="prefetch" href="/assets/js/27.518a9d96.js"><link rel="prefetch" href="/assets/js/28.4517c429.js"><link rel="prefetch" href="/assets/js/29.7d5e97a9.js"><link rel="prefetch" href="/assets/js/30.12be10cf.js"><link rel="prefetch" href="/assets/js/31.b936c4e1.js"><link rel="prefetch" href="/assets/js/32.16bea5e0.js"><link rel="prefetch" href="/assets/js/33.8f3d92bb.js"><link rel="prefetch" href="/assets/js/34.047ee525.js"><link rel="prefetch" href="/assets/js/35.6fec4701.js"><link rel="prefetch" href="/assets/js/36.0e30f89f.js"><link rel="prefetch" href="/assets/js/37.f72cf7c1.js"><link rel="prefetch" href="/assets/js/38.b369f088.js"><link rel="prefetch" href="/assets/js/39.673a4cb1.js"><link rel="prefetch" href="/assets/js/4.3a573900.js"><link rel="prefetch" href="/assets/js/40.3eba17ed.js"><link rel="prefetch" href="/assets/js/41.ceca52f9.js"><link rel="prefetch" href="/assets/js/42.11b398e6.js"><link rel="prefetch" href="/assets/js/43.9f4bf770.js"><link rel="prefetch" href="/assets/js/44.8407c7a0.js"><link rel="prefetch" href="/assets/js/45.163d8615.js"><link rel="prefetch" href="/assets/js/46.27849f54.js"><link rel="prefetch" href="/assets/js/47.1acb4e24.js"><link rel="prefetch" href="/assets/js/48.9c700cce.js"><link rel="prefetch" href="/assets/js/49.d3a3e9cc.js"><link rel="prefetch" href="/assets/js/5.8056f90e.js"><link rel="prefetch" href="/assets/js/50.3d0ce304.js"><link rel="prefetch" href="/assets/js/51.03cba8af.js"><link rel="prefetch" href="/assets/js/52.e40437bb.js"><link rel="prefetch" href="/assets/js/53.e4d59cca.js"><link rel="prefetch" href="/assets/js/54.a2f59b87.js"><link rel="prefetch" href="/assets/js/6.3630a828.js"><link rel="prefetch" href="/assets/js/7.9c8d2f2c.js"><link rel="prefetch" href="/assets/js/8.3c83ddb9.js"><link rel="prefetch" href="/assets/js/9.9832903d.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7241b170.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">苹果家+</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="UI组件生态" class="dropdown-title"><span class="title">UI组件生态</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/components/jg/button.html" class="nav-link">
  结构组件
</a></li><li class="dropdown-item"><!----> <a href="/components/yw/note.html" class="nav-link">
  业务组件
</a></li><li class="dropdown-item"><!----> <a href="/components/lc/note.html" class="nav-link">
  流程图组件
</a></li><li class="dropdown-item"><!----> <a href="/components/button.html" class="nav-link">
  地图组件
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="生态系统" class="dropdown-title"><span class="title">生态系统</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          项目
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/ecology/admin/vue.html" class="nav-link">
  ping-vue(简版vue)
</a></li><li class="dropdown-subitem"><a href="/ecology/admin/vue.html" class="nav-link">
  ping-react(简版react)
</a></li><li class="dropdown-subitem"><a href="/ecology/inst.html" class="nav-link">
  ping-offical-vue(响应式)
</a></li><li class="dropdown-subitem"><a href="/ecology/inst.html" class="nav-link">
  ping-xcx
</a></li><li class="dropdown-subitem"><a href="/ecology/inst.html" class="nav-link">
  H5商城
</a></li></ul></li><li class="dropdown-item"><h4>
          资源
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/components/jg/button.html" class="nav-link">
  UI库-vue
</a></li><li class="dropdown-subitem"><a href="/ecology/dev/devtools.html" class="nav-link">
  基础资源ping-base-lib
</a></li><li class="dropdown-subitem"><a href="/ecology/cli/cli.html" class="nav-link">
  pi(核心，自动化配置)
</a></li><li class="dropdown-subitem"><a href="/ecology/cli/cli.html" class="nav-link">
  脚手架ping-cli
</a></li><li class="dropdown-subitem"><a href="/ecology/webpack.html" class="nav-link">
  打包工具ping-webpack
</a></li><li class="dropdown-subitem"><a href="/ecology/schema.html" class="nav-link">
  校验库
</a></li><li class="dropdown-subitem"><a href="/ecology/schema.html" class="nav-link">
  状态管理
</a></li><li class="dropdown-subitem"><a href="/ecology/schema.html" class="nav-link">
  路由
</a></li><li class="dropdown-subitem"><a href="/ecology/schema.html" class="nav-link">
  日期
</a></li><li class="dropdown-subitem"><a href="/ecology/schema.html" class="nav-link">
  图表
</a></li><li class="dropdown-subitem"><a href="/ecology/schema.html" class="nav-link">
  地图
</a></li><li class="dropdown-subitem"><a href="/ecology/schema.html" class="nav-link">
  关系流程图
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="核心" class="dropdown-title"><span class="title">核心</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Core/Api/base.html" class="nav-link">
  基础
</a></li><li class="dropdown-item"><!----> <a href="/Core/V8/base.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  js(v8)引擎
</a></li><li class="dropdown-item"><!----> <a href="/Core/Achieve/base.html" class="nav-link">
  原理实现
</a></li><li class="dropdown-item"><!----> <a href="/Core/Vue/base.html" class="nav-link">
  Vue概记
</a></li><li class="dropdown-item"><!----> <a href="/Core/React/base.html" class="nav-link">
  React概记
</a></li><li class="dropdown-item"><!----> <a href="/Core/MyWebpack/base.html" class="nav-link">
  webpack
</a></li></ul></div></div><div class="nav-item"><a href="/xingneng/base.html" class="nav-link">
  性能优化
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="可视化" class="dropdown-title"><span class="title">可视化</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Cansee/three.html" class="nav-link">
  three.js
</a></li><li class="dropdown-item"><!----> <a href="/Cansee/D3.html" class="nav-link">
  D3
</a></li></ul></div></div><div class="nav-item"><a href="/zaji/js/base.html" class="nav-link">
  杂记
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="进阶" class="dropdown-title"><span class="title">进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/jingjie/sjjg.html" class="nav-link">
  数据结构
</a></li><li class="dropdown-item"><!----> <a href="/jingjie/suanfa/base.html" class="nav-link">
  算法
</a></li><li class="dropdown-item"><!----> <a href="/jingjie/base.html" class="nav-link">
  node
</a></li><li class="dropdown-item"><!----> <a href="/Core/V8/.html" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/Core/V8/.html" class="nav-link">
  python
</a></li></ul></div></div><div class="nav-item"><a href="/xcx.html" class="nav-link">
  第三方库
</a></div><div class="nav-item"><a href="/question/leetco.html" class="nav-link">
  面试与待办
</a></div><div class="nav-item"><a href="/cause/main.html" class="nav-link">
  创想
</a></div> <a href="https://github.com/wsmjz" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="UI组件生态" class="dropdown-title"><span class="title">UI组件生态</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/components/jg/button.html" class="nav-link">
  结构组件
</a></li><li class="dropdown-item"><!----> <a href="/components/yw/note.html" class="nav-link">
  业务组件
</a></li><li class="dropdown-item"><!----> <a href="/components/lc/note.html" class="nav-link">
  流程图组件
</a></li><li class="dropdown-item"><!----> <a href="/components/button.html" class="nav-link">
  地图组件
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="生态系统" class="dropdown-title"><span class="title">生态系统</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          项目
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/ecology/admin/vue.html" class="nav-link">
  ping-vue(简版vue)
</a></li><li class="dropdown-subitem"><a href="/ecology/admin/vue.html" class="nav-link">
  ping-react(简版react)
</a></li><li class="dropdown-subitem"><a href="/ecology/inst.html" class="nav-link">
  ping-offical-vue(响应式)
</a></li><li class="dropdown-subitem"><a href="/ecology/inst.html" class="nav-link">
  ping-xcx
</a></li><li class="dropdown-subitem"><a href="/ecology/inst.html" class="nav-link">
  H5商城
</a></li></ul></li><li class="dropdown-item"><h4>
          资源
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/components/jg/button.html" class="nav-link">
  UI库-vue
</a></li><li class="dropdown-subitem"><a href="/ecology/dev/devtools.html" class="nav-link">
  基础资源ping-base-lib
</a></li><li class="dropdown-subitem"><a href="/ecology/cli/cli.html" class="nav-link">
  pi(核心，自动化配置)
</a></li><li class="dropdown-subitem"><a href="/ecology/cli/cli.html" class="nav-link">
  脚手架ping-cli
</a></li><li class="dropdown-subitem"><a href="/ecology/webpack.html" class="nav-link">
  打包工具ping-webpack
</a></li><li class="dropdown-subitem"><a href="/ecology/schema.html" class="nav-link">
  校验库
</a></li><li class="dropdown-subitem"><a href="/ecology/schema.html" class="nav-link">
  状态管理
</a></li><li class="dropdown-subitem"><a href="/ecology/schema.html" class="nav-link">
  路由
</a></li><li class="dropdown-subitem"><a href="/ecology/schema.html" class="nav-link">
  日期
</a></li><li class="dropdown-subitem"><a href="/ecology/schema.html" class="nav-link">
  图表
</a></li><li class="dropdown-subitem"><a href="/ecology/schema.html" class="nav-link">
  地图
</a></li><li class="dropdown-subitem"><a href="/ecology/schema.html" class="nav-link">
  关系流程图
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="核心" class="dropdown-title"><span class="title">核心</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Core/Api/base.html" class="nav-link">
  基础
</a></li><li class="dropdown-item"><!----> <a href="/Core/V8/base.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  js(v8)引擎
</a></li><li class="dropdown-item"><!----> <a href="/Core/Achieve/base.html" class="nav-link">
  原理实现
</a></li><li class="dropdown-item"><!----> <a href="/Core/Vue/base.html" class="nav-link">
  Vue概记
</a></li><li class="dropdown-item"><!----> <a href="/Core/React/base.html" class="nav-link">
  React概记
</a></li><li class="dropdown-item"><!----> <a href="/Core/MyWebpack/base.html" class="nav-link">
  webpack
</a></li></ul></div></div><div class="nav-item"><a href="/xingneng/base.html" class="nav-link">
  性能优化
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="可视化" class="dropdown-title"><span class="title">可视化</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Cansee/three.html" class="nav-link">
  three.js
</a></li><li class="dropdown-item"><!----> <a href="/Cansee/D3.html" class="nav-link">
  D3
</a></li></ul></div></div><div class="nav-item"><a href="/zaji/js/base.html" class="nav-link">
  杂记
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="进阶" class="dropdown-title"><span class="title">进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/jingjie/sjjg.html" class="nav-link">
  数据结构
</a></li><li class="dropdown-item"><!----> <a href="/jingjie/suanfa/base.html" class="nav-link">
  算法
</a></li><li class="dropdown-item"><!----> <a href="/jingjie/base.html" class="nav-link">
  node
</a></li><li class="dropdown-item"><!----> <a href="/Core/V8/.html" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/Core/V8/.html" class="nav-link">
  python
</a></li></ul></div></div><div class="nav-item"><a href="/xcx.html" class="nav-link">
  第三方库
</a></div><div class="nav-item"><a href="/question/leetco.html" class="nav-link">
  面试与待办
</a></div><div class="nav-item"><a href="/cause/main.html" class="nav-link">
  创想
</a></div> <a href="https://github.com/wsmjz" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>js(v8)引擎</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Core/V8/base.html" aria-current="page" class="active sidebar-link">概念介绍</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Core/V8/base.html#概念介绍" class="sidebar-link">概念介绍</a></li><li class="sidebar-sub-header"><a href="/Core/V8/base.html#渲染进程（浏览器内核）" class="sidebar-link">渲染进程（浏览器内核）</a></li><li class="sidebar-sub-header"><a href="/Core/V8/base.html#数据类型" class="sidebar-link">数据类型</a></li><li class="sidebar-sub-header"><a href="/Core/V8/base.html#v8引擎渲染机制" class="sidebar-link">v8引擎渲染机制</a></li><li class="sidebar-sub-header"><a href="/Core/V8/base.html#编译" class="sidebar-link">编译</a></li><li class="sidebar-sub-header"><a href="/Core/V8/base.html#词法分析" class="sidebar-link">词法分析</a></li><li class="sidebar-sub-header"><a href="/Core/V8/base.html#执行上下文" class="sidebar-link">执行上下文</a></li><li class="sidebar-sub-header"><a href="/Core/V8/base.html#作用域-与-作用域链" class="sidebar-link">作用域 与 作用域链</a></li><li class="sidebar-sub-header"><a href="/Core/V8/base.html#this指代" class="sidebar-link">this指代</a></li><li class="sidebar-sub-header"><a href="/Core/V8/base.html#闭包" class="sidebar-link">闭包</a></li><li class="sidebar-sub-header"><a href="/Core/V8/base.html#原型链" class="sidebar-link">原型链</a></li><li class="sidebar-sub-header"><a href="/Core/V8/base.html#函数" class="sidebar-link">函数</a></li><li class="sidebar-sub-header"><a href="/Core/V8/base.html#eventloop-事件循环机制" class="sidebar-link">EventLoop 事件循环机制</a></li><li class="sidebar-sub-header"><a href="/Core/V8/base.html#垃圾回收机制" class="sidebar-link">垃圾回收机制</a></li><li class="sidebar-sub-header"><a href="/Core/V8/base.html#规范" class="sidebar-link">规范</a></li><li class="sidebar-sub-header"><a href="/Core/V8/base.html#es6-新" class="sidebar-link">Es6 新</a></li><li class="sidebar-sub-header"><a href="/Core/V8/base.html#跨域" class="sidebar-link">跨域</a></li><li class="sidebar-sub-header"><a href="/Core/V8/base.html#typescript语法" class="sidebar-link">TypeScript语法</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="概念介绍"><a href="#概念介绍" class="header-anchor">#</a> 概念介绍</h2> <p><img src="/assets/img/xc.0bec694e.png" alt=""></p> <ul><li></li> <li>编译</li> <li>解释</li> <li>执行</li></ul> <h2 id="渲染进程（浏览器内核）"><a href="#渲染进程（浏览器内核）" class="header-anchor">#</a> 渲染进程（浏览器内核）</h2> <blockquote><p>进程是系统进行资源分配和调度的一个独立单位 一个进程内包含多个线程</p></blockquote> <ul><li>GUI 渲染线程(页面渲染 css)</li> <li>js引擎线程(执行js脚本)</li> <li>js中事件(onclick), 定时器(setTimeout)，ajax 会单独开一个线程</li> <li>事件触发线程(EventLoop轮询处理) <strong>去宏任务队列里面查找 看是否有到时间的</strong></li></ul> <blockquote><ul><li>js主线程(引擎线程)是单线程的</li> <li>GUI 渲染线程 与 js引擎线程是互斥的 js执行的时候不会页面渲染  页面渲染的时候不会执行js脚本</li> <li>js引擎线程执行完(同步，异步代码)之后被立即执行的叫微任务，同步异步代码执行完后去清空微任务</li></ul></blockquote> <h2 id="数据类型"><a href="#数据类型" class="header-anchor">#</a> 数据类型</h2> <ul><li>基本数据类型（值类型number, string, blooen, null, undefind）
<ul><li>Synml() 唯一值</li> <li>number(1, 0.2, NaN，infi无线)  typeof NaN -&gt; &quot;number&quot;
<ul><li>NaN === NaN 和谁都不相等 isNaN() 判断 其他数据不能正常转化为number时 出现NaN Number('12px') -&gt; NaN</li></ul></li> <li>null 的作用使变量指向空指针 释放堆内存</li></ul></li> <li>引用数据类型
<ol><li>object: {} 普通对象 [] new Array /^$/ 正则对象 new Date() Math 实例对象... (一些类的实例 -&gt; 实例对象 - 数组对象，日期对象... )
<ul><li>数据类型typeof为小写&quot;object&quot;, 构造函数为大写Object</li> <li>对象的属性名 可以为基本数据类型的各个值，属性名为引用类型值默认回转化成字符串处理</li> <li>{x:10}.toString() =&gt; &quot;[object object]&quot;   Object.prototype.toString()  原型链 数据类型转化</li> <li>[].toString() =&gt; &quot;&quot;   Array.prototype.toString()</li> <li>数组是特殊的对象 有length 属性名为递增的代表位置的数字</li> <li>dir(Array) Mdn</li></ul></li> <li>function 特殊对象（附属），更多性质还是函数，有很多（js底层）的概念</li> <li>Symbol 唯一值</li></ol></li></ul> <h2 id="v8引擎渲染机制"><a href="#v8引擎渲染机制" class="header-anchor">#</a> v8引擎渲染机制</h2> <blockquote><p>依次进入队列执行</p></blockquote> <ul><li><a href="https://segmentfault.com/a/1190000011858383" target="_blank" rel="noopener noreferrer">过程<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>堆(heap)栈(stack)内存
<ul><li>栈：1执行环境，2存储基本类型</li> <li>堆：存储引用类型么</li></ul></li> <li>定义
<ul><li>堆heap则是动态分配的内存，大小不定也不会自动释放（引用数据类型: 数组 对象）</li> <li>栈stack为自动分配的内存空间，它由系统自动释放；（原始数据类型）</li></ul></li> <li>关系
<ul><li>引用数据类型存放在堆里，=：传址</li> <li>基本数据类型存放在栈里，=：直接传值</li> <li><img src="/assets/img/dz.dc47a8ea.png" alt=""></li></ul></li> <li>代码解析过程
<blockquote><p>词法解析 =&gt; AST语法树 =&gt; js引擎 =&gt; 执行栈 =&gt; 全局对象(变量提升) =&gt; 运行</p></blockquote> <ul><li>编译器（）
<ol><li>词法解析</li> <li>AST抽象语法树</li> <li>构建出浏览器能够执行的代码</li></ol></li> <li>引擎（v8 / webkit内核）浏览器识别代码
<ul><li>ECStack(<code>执行环境栈</code>) / 栈内存 作用：(也是环境，也是存储基本数据类型) 执行代码</li> <li>EC 执行环境(<code>执行上下文</code>) 某个域下的代码执行都有自己的上下文
<ul><li>全局 EC(G) global 全局</li> <li>函数 EC(...) 私有的</li> <li>进栈执行-(压缩到栈里进行)-进栈 有的没有用的执行完-出栈 有的还有用的回压缩到栈底-<code>闭包</code>(等待下次调用)
<ul><li>GO(全局对象)
<ul><li>变量赋值三步
<ol><li>创建变量(lrh,左侧词法解析) - 声明</li> <li>创建值：基本值直接在栈中创建和存储</li> <li>赋值 让变量和值关联起来 - <code>定义defined</code></li></ol></li></ul></li> <li>堆栈内存
<ul><li>栈：</li></ul></li></ul></li></ul></li></ul> <ol><li>变量提升</li> <li>作用域 / 闭包</li> <li>变量对象</li> <li>堆栈内存</li> <li>/VO/AO/</li></ol></li></ul></li></ul> <h2 id="编译"><a href="#编译" class="header-anchor">#</a> 编译</h2> <ul><li>编译型语言</li></ul> <blockquote><p>比如先把中文稿 翻译一份英文稿 给外国人 然后演讲 =&gt; 编译后直接运行</p></blockquote> <ul><li>解释型语言</li></ul> <blockquote><p>演讲中，同声翻译，演讲一句，翻译一句 =&gt;</p></blockquote> <ul><li>js 为预编译 先提升所有定义变量var 为undifine 和 function</li></ul> <h2 id="词法分析"><a href="#词法分析" class="header-anchor">#</a> 词法分析</h2> <ul><li>编译顺序</li> <li>执行顺序</li> <li>作用域</li> <li>运行机制
函数的作用域在定义的时候就决定了，和在哪里执行没有关系，这就是词法作用域</li></ul> <h2 id="执行上下文"><a href="#执行上下文" class="header-anchor">#</a> 执行上下文</h2> <ul><li>全局对象</li> <li>局部变量</li> <li>深入理解 各种运行环境 上下文界定</li> <li>javaScript在浏览器中运行的过程分为两个阶段预解析阶段 执行阶段, 所谓javascript预解析正是创建函数的执行环境(又称“执行上下文”)，只有搞定了javascript的执行环境我们才能搞清楚一段代码在执行过后为什么产生这样的结果。</li></ul> <h2 id="作用域-与-作用域链"><a href="#作用域-与-作用域链" class="header-anchor">#</a> 作用域 与 作用域链</h2> <ul><li>函数定义的时候就产生作用域 ， 执行的时候产生执行上下文</li> <li>与执行上下文的不同</li></ul> <h2 id="this指代"><a href="#this指代" class="header-anchor">#</a> this指代</h2> <ul><li>指的是 调用函数的那个对象<a href="https://www.jianshu.com/p/f2cdbd345211" target="_blank" rel="noopener noreferrer">更多<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <code>需是哪个对象调用 指代的是这个对象</code>，<code>若返回的是函数，this指代window</code></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token punctuation">{</span>
    text<span class="token operator">:</span> <span class="token string">'hello'</span><span class="token punctuation">,</span>
    arr<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'join'</span><span class="token punctuation">,</span> <span class="token string">'agoh'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token function-variable function">fn</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">aa</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">'sdfsdfsdfsd'</span><span class="token punctuation">)</span> <span class="token comment">// window</span>
       <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
o<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>this指针 - 当前类的实例 - 向上查找</li> <li>比如当通过某个对象来调用函数时，该对象就是此次调用的上下文，也就是改函数的 this 的值</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token punctuation">{</span>
    text<span class="token operator">:</span> <span class="token string">'hello'</span><span class="token punctuation">,</span>
    arr<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'join'</span><span class="token punctuation">,</span> <span class="token string">'agoh'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token function-variable function">fn</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">// o 调用fn this指代o对象</span>
       <span class="token keyword">let</span> that <span class="token operator">=</span> <span class="token keyword">this</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 或将此函数改为箭头函数 原因：箭头函数本身没有this, 会指向上级作用域this</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>text<span class="token punctuation">,</span> <span class="token string">'标志'</span><span class="token punctuation">)</span> <span class="token comment">// 获取不到this 改为that 变量接受 原因：变量会向上级作用域查找</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>that<span class="token punctuation">.</span>text<span class="token punctuation">,</span> <span class="token string">'标志'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token comment">// 相当于 return undefind</span>
        <span class="token comment">// let abb = {</span>
        <span class="token comment">//     a: 1,</span>
        <span class="token comment">//     b: 2,</span>
        <span class="token comment">//     cc: function bb() {</span>
        <span class="token comment">//         console.log(this, 'sdfsdfsdfsd')</span>
        <span class="token comment">//         return 1</span>
        <span class="token comment">//     }</span>
        <span class="token comment">// }</span>
        <span class="token comment">// return abb</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> pp <span class="token operator">=</span> o<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>pp<span class="token punctuation">)</span> <span class="token comment">// undefind</span>
</code></pre></div><h2 id="闭包"><a href="#闭包" class="header-anchor">#</a> 闭包</h2> <ul><li>产生：执行环境栈中有未被执行（未销毁）的任务（代码）</li> <li>应用：
<ul><li>定时器</li> <li>柯里化 封装检查数据类型</li></ul></li> <li>俗语：其实就是一种约定（这样写就叫做闭包，可实现一些功能）</li> <li>理解（定义.概念）：
<ul><li>珠峰描述：当前这个函数(-1)可以不在当前作用域下(11)调用(除开window下)
<ul><li>函数返回函数 如果都执行完了 就不叫闭包</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">checkType</span><span class="token punctuation">(</span><span class="token parameter">type</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment">// 11</span>
   <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 'Sting' 被保存到了这里 函数没有执行就不会销毁   闭包</span>
      <span class="token keyword">return</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">[object </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>type<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">]</span><span class="token template-punctuation string">`</span></span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">checkType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div></li> <li>js高程中描述：闭包是指有权访问另一个函数作用域中的变量的函数。</li> <li>权威指南中描述：从技术的角度讲，所有的JavaScript函数都是闭包：它们都是对象，它们都关联到作用域链</li> <li>你不知道的JavaScript中描述：<strong>当函数可以记住并访问所在的词法作用域时，就产生了闭包，即使函数是在当前词法作用域之外执行</strong></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>   <span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">'iceman'</span><span class="token punctuation">;</span>
      <span class="token keyword">function</span> <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   上面的代码已经产生闭包了。fn2访问到了fn1的变量，满足了条件“有权访问另一个函数作用域中的变量的函数”，fn2本身是个函数，所以满足了条件“所有的JavaScript函数都是闭包”。
   这的确是闭包，但是这种方式定义的闭包不太好观察。
   <span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">=</span>
   <span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">'iceman'</span><span class="token punctuation">;</span>
      <span class="token keyword">function</span> <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> fn2<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">var</span> fn3 <span class="token operator">=</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">fn3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token number">1.</span>fn2的词法作用域能访问fn1的作用域
   <span class="token number">2.</span>将fn2当做一个值返回
   <span class="token number">3.</span>fn1执行后，将fn2的引用赋值给fn3
   <span class="token number">4.</span>执行fn3，输出了变量name
   我们知道通过引用的关系，fn3就是fn2函数本身。执行fn3能正常输出name，这不就是fn2能记住并访问它所在的词法作用域，而且fn2函数的运行还是在当前词法作用域之外了。
   <span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">=</span>
   <span class="token keyword">function</span> <span class="token function">waitSomeTime</span><span class="token punctuation">(</span><span class="token parameter">msg<span class="token punctuation">,</span> time</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> time<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token function">waitSomeTime</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   定时器中有一个匿名函数，该匿名函数就有涵盖waitSomeTime函数作用域的闭包，因此当<span class="token number">1</span>秒之后，该匿名函数能输出msg。
   <span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">=</span>
   <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">for</span>循环中使用定时器延迟打印的问题
   我们对其的预期是输出<span class="token number">1</span><span class="token operator">~</span><span class="token number">10</span>，但却输出<span class="token number">10</span>次<span class="token number">11</span>。这是因为setTimeout中的匿名函数执行的时候，<span class="token keyword">for</span>循环都已经结束了，<span class="token keyword">for</span>循环结束的条件是i大于<span class="token number">10</span>，所以当然是输出<span class="token number">10</span>次<span class="token number">11</span>咯。
   究其原因：i是声明在全局作用中的，定时器中的匿名函数也是执行在全局作用域中，那当然是每次都输出<span class="token number">11</span>了
   原因知道了，解决起来就简单了，我们可以让i在每次迭代的时候，都产生一个私有的作用域，在这个私有的作用域中保存当前i的值
   <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">var</span> j <span class="token operator">=</span> i<span class="token punctuation">;</span>
         <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
               console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
   或者
   将每次迭代的i作为实参传递给自执行函数，自执行函数中用变量去接收：
   <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">j</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
               console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
</code></pre></div></li> <li><a href="https://www.jianshu.com/p/85add291c8a5" target="_blank" rel="noopener noreferrer">解释<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>应用：典型是定义模块，我们将操作函数暴露给外部，而细节隐藏在模块内部<div class="language-js extra-class"><pre class="language-js"><code>   <span class="token keyword">function</span> <span class="token function">module</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> val <span class="token operator">==</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
               arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">function</span> <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
               <span class="token keyword">return</span> arr<span class="token punctuation">[</span>index<span class="token punctuation">]</span>
         <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
         <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
         add<span class="token operator">:</span> add<span class="token punctuation">,</span>
         <span class="token keyword">get</span><span class="token operator">:</span> <span class="token keyword">get</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">var</span> mod1 <span class="token operator">=</span> <span class="token function">module</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   mod1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   mod1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   mod1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'xxx'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>mod1<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <h2 id="原型链"><a href="#原型链" class="header-anchor">#</a> 原型链</h2> <ul><li>名词：原型对象，实例对象（就是new 构造函数的接受变量），函数对象（函数对象我们可以简单的理解为函数，因为在js中函数本身就属于一个对象），constructor, prototype, proto, <strong>proto</strong>, 原型继承</li> <li>原型对象我们可以简单的理解为原型对象是实例对象和函数对象的父对象，俗称：爸爸，并且通过实例对象和函数对象都能找到原型对象；<a href="https://www.cnblogs.com/dengyao-blogs/p/11481326.html" target="_blank" rel="noopener noreferrer">更多<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>实例对象和函数对象的关系</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">People</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">=</span>name<span class="token punctuation">;</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> student <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">People</span><span class="token punctuation">(</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
People是构造函数，student是实例对象，二者之间的关系体现在constructor属性中；
student<span class="token punctuation">.</span>constructor <span class="token operator">===</span> People<span class="token punctuation">;</span> <span class="token comment">//true</span>
student <span class="token keyword">instanceof</span> <span class="token class-name">People</span>  <span class="token comment">//true</span>
</code></pre></div><ul><li>new关键字做了什么？
构造函数和普通函数在JS中没有什么太大的区别，所以我们可以想到那么直接使用函数的话，this的指向肯定是浏览器全局对象window，那么我们new一下之后，this的指向将会改变为新的实例对象，并且还会将这个新的实例对象返回回来；
所以我们可以总结new做了什么：</li></ul> <ol><li>新建了一个空的函数对象；</li> <li>改变this的指向，将this的指向改为接收新函数对象的实例对象</li> <li>返回这个新的实例对象</li> <li>一 new 构造函数就会执行 与 class constructor 中的语句一样 可</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Per</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   id<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">'改变节点'</span>
   id<span class="token punctuation">.</span>appendChild <span class="token operator">=</span> frame <span class="token comment">// 塞回文档碎片</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>总结</li></ul> <ol><li><code>实例对象.__proto__指针</code> 等于 <code>构造函数的prototype</code> 等于 <code>原型对象</code></li> <li>对象(普通对象，实例对象，原型对象，普通函数，构造函数)就具有__proto__指针</li> <li>只有<code>原型对象</code>, <code>实例对象</code>, <code>普通对象</code>具有<code>constructor</code>指向它的构造函数</li> <li>只有<code>构造函数</code>, <code>普通函数</code>具有<code>prototype</code>指向它的原型对象</li> <li>示例
<ul><li>prototype: '原型对象'</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>   <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token comment">// 原型对象</span>
      isArray<span class="token operator">:</span> f<span class="token punctuation">,</span>
      constructor<span class="token operator">:</span> <span class="token string">'构造函数Array'</span><span class="token punctuation">,</span>
      concat<span class="token punctuation">,</span>splice<span class="token punctuation">,</span>push<span class="token punctuation">,</span>freeze<span class="token punctuation">,</span> toString等数组方法<span class="token punctuation">,</span>
      __proto__<span class="token operator">:</span> <span class="token string">'原型对象Object'</span>
   <span class="token punctuation">}</span>
</code></pre></div><ul><li>Array.<strong>proto</strong></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>   Array<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> <span class="token punctuation">{</span>
      constructor<span class="token operator">:</span> f Function<span class="token string">'构造函数Function'</span>
      arguments<span class="token punctuation">,</span> apply<span class="token punctuation">,</span> bind<span class="token punctuation">,</span> call<span class="token punctuation">,</span> toString等方法
      __proto__<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 'Object的原型对象'</span>
         hasOwnProperty<span class="token operator">:</span> <span class="token punctuation">,</span>
         toString<span class="token operator">:</span> <span class="token punctuation">,</span>
         valueOf<span class="token operator">:</span> <span class="token punctuation">,</span>
         constructor<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// Object的构造函数</span>
            assign<span class="token operator">:</span> f<span class="token punctuation">,</span>
            create<span class="token operator">:</span> f<span class="token punctuation">,</span>
            defineProperty<span class="token operator">:</span> f<span class="token punctuation">,</span>
            freeze<span class="token operator">:</span> f<span class="token punctuation">,</span> <span class="token comment">// 冻结对象</span>
            keys<span class="token operator">:</span> f<span class="token punctuation">,</span> 等对象方法
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
</code></pre></div></li></ol> <h2 id="函数"><a href="#函数" class="header-anchor">#</a> 函数</h2> <ul><li>箭头函数与普通函数的区别</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token punctuation">{</span>
    tex<span class="token operator">:</span> <span class="token string">'hello'</span><span class="token punctuation">,</span>
    arr<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'join'</span><span class="token punctuation">,</span> <span class="token string">'agoh'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token function-variable function">fn</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">aa</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">'sdfsdfsdfsd'</span><span class="token punctuation">)</span> <span class="token comment">// window</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
o<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>变量的查找会依据作用域链由内向外查找直到全局对象window</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token punctuation">{</span>
    tex<span class="token operator">:</span> <span class="token string">'hello'</span><span class="token punctuation">,</span>
    arr<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'join'</span><span class="token punctuation">,</span> <span class="token string">'agoh'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token function-variable function">fn</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">aa</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>art<span class="token punctuation">,</span> <span class="token string">'sdfsdfsdfsd'</span><span class="token punctuation">)</span> <span class="token comment">// 2</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> art <span class="token operator">=</span> <span class="token number">2</span>
o<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>this 谁调用就指代谁，箭头函数本身没有this 向上级作用域查找</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token punctuation">{</span>
    tex<span class="token operator">:</span> <span class="token string">'hello'</span><span class="token punctuation">,</span>
    arr<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'join'</span><span class="token punctuation">,</span> <span class="token string">'agoh'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token function-variable function">fn</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// console.log(this, 'sdfsdfsdfsd')</span>
        <span class="token keyword">let</span> that <span class="token operator">=</span> <span class="token keyword">this</span> <span class="token comment">// o 调用fn 所以this 指代o</span>
        <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token function">aa</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// that 接受或者这儿改为箭头函数</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>that<span class="token punctuation">,</span> <span class="token string">'sdfsdfsdfsd'</span><span class="token punctuation">)</span> 
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
o<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="eventloop-事件循环机制"><a href="#eventloop-事件循环机制" class="header-anchor">#</a> EventLoop 事件循环机制</h2> <ul><li>概念：js引擎为主线程</li> <li>应用</li> <li>宏任务: <code>setTimeout, ajax</code></li> <li>微任务: <code>Promise</code> <ul><li>new MutationObserver() // nextTick 原理 多次调用nextTick 都保存在一个数组，队列里面 循环全部执行 Promise then里面</li></ul></li> <li>先执行同步代码，再执行promise then中的微任务， 再执行 宏任务</li> <li><img src="/assets/img/hwrw.02fe7c58.png" alt=""></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'script start'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'setTimeout'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

   Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'promise1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'promise2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'script end'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token comment">// script start, script end, promise1, promise2, setTimeout</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'script start'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'timeout1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

   <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'promise1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'timeout2'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'then1'</span><span class="token punctuation">)</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'script end'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token comment">// script start, promise1, script end, then1, timeout1, timeout2</span>
</code></pre></div><h2 id="垃圾回收机制"><a href="#垃圾回收机制" class="header-anchor">#</a> 垃圾回收机制</h2> <p><img src="/assets/img/ljhs.ef5bb286.jpg" alt=""></p> <ul><li>for 的运行机制
<ul><li>for循环还有一个特别之处，就是设置循环变量的那部分是一个父作用域，而循环体内部是一个单独的子作用域</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token string">'abc'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// abc</span>
<span class="token comment">// abc</span>
<span class="token comment">// abc</span>
</code></pre></div><blockquote><p>上面代码正确运行，输出了 3 次abc。这表明函数内部的变量i与循环变量i不在同一个作用域，有各自单独的作用域。</p></blockquote></li></ul> <h2 id="规范"><a href="#规范" class="header-anchor">#</a> 规范</h2> <ul><li>AMD
<ul><li>用于浏览器</li> <li>运行时</li></ul></li> <li>Commonjs(模块)规范</li></ul> <blockquote><p>NodeJs 基于Commonjs规范</p></blockquote> <ul><li>用于服务器</li> <li>module.exports 导出</li> <li>require 导入</li> <li>运行时加载</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token punctuation">{</span> stat<span class="token punctuation">,</span> exists<span class="token punctuation">,</span> readFile <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 等同于</span>
<span class="token keyword">let</span> _fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> stat <span class="token operator">=</span> _fs<span class="token punctuation">.</span>stat<span class="token punctuation">;</span>
<span class="token keyword">let</span> exists <span class="token operator">=</span> _fs<span class="token punctuation">.</span>exists<span class="token punctuation">;</span>
<span class="token keyword">let</span> readfile <span class="token operator">=</span> _fs<span class="token punctuation">.</span>readfile<span class="token punctuation">;</span>
</code></pre></div><ul><li>Es6(模块) 规范
<ul><li>用于浏览器</li> <li>export</li> <li>import</li> <li>编译时加载(静态加载)</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> stat<span class="token punctuation">,</span> exists<span class="token punctuation">,</span> readFile <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'fs'</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>上面代码的实质是从fs模块加载 3 个方法，其他方法不加载。这种加载称为“编译时加载”或者静态加载，即 ES6 可以在编译时就完成模块加载，效率要比 CommonJS 模块的加载方式高。当然，这也导致了没法引用 ES6 模块本身，因为它不是对象</p></blockquote></li></ul> <h2 id="es6-新"><a href="#es6-新" class="header-anchor">#</a> Es6 新</h2> <h3 id="易忘"><a href="#易忘" class="header-anchor">#</a> 易忘</h3> <ul><li>暂时性死区
<ul><li>总之，在代码块内，使用let命令声明变量之前，该变量都是不可用的。这在语法上，称为“暂时性死区”（temporal dead zone，简称 TDZ）</li> <li>ES6 明确规定，如果区块中存在let和const命令，这个区块对这些命令声明的变量，从一开始就形成了封闭作用域。凡是在声明之前就使用这些变量，就会报错。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>   <span class="token keyword">var</span> tmp <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      tmp <span class="token operator">=</span> <span class="token string">'abc'</span><span class="token punctuation">;</span> <span class="token comment">// ReferenceError  即使是在全局声明了tem 但这儿在 let 之前使用 也会报错 明确规定 暂时性死区</span>
      <span class="token keyword">let</span> tmp<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
</code></pre></div></li> <li>let var 在for中的区别</li> <li>剩余运算符 <code>...</code> <ul><li>函数新增</li></ul></li> <li>扩展运算符 <code>...</code> <ul><li>对象新增</li></ul></li> <li>箭头函数与变量解构结合使用<code>vuex中 ({commit})</code></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>   <span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token comment">// 预期</span>
      first<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
      last<span class="token operator">:</span> <span class="token string">''</span>
   <span class="token punctuation">}</span>
   <span class="token keyword">const</span> <span class="token function-variable function">full</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> first<span class="token punctuation">,</span> last <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> first <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> last<span class="token punctuation">;</span>

   <span class="token comment">// 等同于</span>
   <span class="token keyword">function</span> <span class="token function">full</span><span class="token punctuation">(</span><span class="token parameter">person</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> person<span class="token punctuation">.</span>first <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> person<span class="token punctuation">.</span>last<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
</code></pre></div><ul><li>export var a = 1 与 export default {}</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>   <span class="token keyword">export</span> <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span>
   <span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
   <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span>
   <span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
   <span class="token keyword">export</span> <span class="token punctuation">{</span>
      a<span class="token punctuation">,</span>
      b
   <span class="token punctuation">}</span>
   <span class="token keyword">import</span> <span class="token punctuation">{</span>a<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">''</span>
   <span class="token comment">// a -&gt; 1</span>
   <span class="token comment">// ===============</span>
   <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span>
   或
   <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span>
   <span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
   <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
      a<span class="token punctuation">,</span>
      b
   <span class="token punctuation">}</span>
   <span class="token keyword">import</span> obj <span class="token keyword">from</span> <span class="token string">''</span>
   <span class="token comment">// obj.a -&gt; 1</span>
</code></pre></div><blockquote><p>export 可以写多个 export default 只能写一个</p></blockquote> <h3 id="promise"><a href="#promise" class="header-anchor">#</a> promise</h3> <blockquote><p>基于高阶函数，发布订阅模式</p></blockquote> <ul><li>问题？？
<ul><li>如果先.catch 会进入then吗</li></ul></li></ul> <ol><li>then中回调push</li> <li>new Error() 进入reject</li> <li>如果then成功或失败的结果中，返回的还是一个promise,会等待这个promise的执行结果，并将结果传递到下一个then的参数中</li> <li>第一个then(成功方法, 失败方法)，走下一个then的失败有两种情况
<ul><li>返回一个失败的promise</li> <li>抛出异常</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>   <span class="token function">read</span><span class="token punctuation">(</span><span class="token string">'./name.text'</span><span class="token punctuation">,</span> <span class="token string">'utf8'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// return read('./name1.text这儿没有这个文件', 'utf8') 失败结果 -&gt; 地点2</span>
      <span class="token comment">// throw new Error('123') -&gt; 地点2</span>
      <span class="token comment">// (这儿不写  相当于 return undefined) 进入下一个then的成功 -&gt; 地点1</span>
      <span class="token comment">// return 111 普通值 -&gt; 地点1</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// (这儿不写  相当于 return undefined) 进入下一个then的成功 -&gt; 地点1</span>
      <span class="token comment">// throw err -&gt; 地点2</span>
       <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> 不成功也不失败 就不会进入下一个then 中断了
   <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// 地点1</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// 地点2</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li>走完失败 终止promise</li> <li>链式调用
<ul><li>let p = new Promise() Promise的实例p的状态一旦确定了就不会改变</li> <li>为什么返回的不是this(同一个实例), 因为如果失败了 它的状态就不会改变 这个this就一直都是失败的</li> <li>每次调用promise都需要返回一个新的promise实例(状态) 保证状态不影响</li></ul></li></ol> <ul><li>高阶函数
<ul><li>一个函数的参数为函数， 返回值为函数</li> <li>核心逻辑提取出来， 可扩展其他功能</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 装饰模式（在什么之前后，又做点什么，叫装饰） AOP 切片</span>
<span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">before</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">cb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
   <span class="token comment">// 剩余运算符</span>
   <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// 箭头函数中没有this this会向上一层查找, 箭头函数中没有arguments</span>
      <span class="token function">cb</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token comment">// 展开运算符</span>
      <span class="token comment">//this.apply(null, args)</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">makeCoffee</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'核心功能 创建一倍咖啡'</span><span class="token operator">+</span> name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> newFunc <span class="token operator">=</span> makeCoffee<span class="token punctuation">.</span><span class="token function">before</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'加糖'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">newFunc</span><span class="token punctuation">(</span><span class="token string">'参数1'</span><span class="token punctuation">,</span> <span class="token string">'参数2'</span><span class="token punctuation">)</span>
</code></pre></div></li> <li>柯里化
<ul><li>把核心功能，提出一个更细小的函数</li> <li>不停的细化函数，每次调用返回一个函数 ！！！</li> <li>校验类型</li> <li>普通函数每次都需要传递参数，可以用高阶函数来绑定参数</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 把String 保存到isString方法里</span>
<span class="token keyword">function</span> <span class="token function">checkType</span><span class="token punctuation">(</span><span class="token parameter">type</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 'Sting' 被保存到了这里 函数没有执行就不会销毁   闭包</span>
      <span class="token keyword">return</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">[object </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>type<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">]</span><span class="token template-punctuation string">`</span></span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> isString <span class="token operator">=</span> <span class="token function">checkType</span><span class="token punctuation">(</span><span class="token string">'Sting'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isString</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 
</code></pre></div></li> <li>callback
<ul><li>解决异步并发的问题靠的就是计数器 - 有全局变量</li></ul></li> <li>发布订阅模式
<ul><li>evebtBus  先存起来 依次触发</li> <li>可以解耦合</li> <li>两者无关系</li></ul></li> <li>观察者模式
<ul><li>需把观察者挂载到被观察者上</li></ul></li></ul> <blockquote><p>发布订阅与观察者模式的区别：</p> <ul><li>观察者基于发布订阅</li> <li>观察者两者有关系</li></ul></blockquote> <ul><li>promise
<ul><li>返回的是一个promise实例 能一直链式调用then</li> <li>new一个Promise中的executor是立即执行的<code>立即执行11</code></li> <li>一旦成功就不会失败 反之亦然</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>   <span class="token keyword">new</span> <span class="token class-name">Promse</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'错误'</span><span class="token punctuation">)</span> <span class="token comment">// 如果内部出错了 就会变成失败态</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>
      <span class="token function">resove</span><span class="token punctuation">(</span><span class="token string">'成功'</span><span class="token punctuation">)</span> <span class="token comment">// 前面状态改变了 这儿就不会执行</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">22</span><span class="token punctuation">)</span>
   <span class="token comment">// 11 22</span>
</code></pre></div></li></ul> <h2 id="跨域"><a href="#跨域" class="header-anchor">#</a> 跨域</h2> <ul><li>为什么会跨域</li> <li>解决跨域的原理是什么</li> <li>浏览器同源策略</li> <li>九种方式
<ul><li>浏览器非安全模式打开，去除访问限制Lax</li></ul></li></ul> <h2 id="typescript语法"><a href="#typescript语法" class="header-anchor">#</a> TypeScript语法</h2> <h3 id="类型注解"><a href="#类型注解" class="header-anchor">#</a> 类型注解</h3> <h3 id="接口"><a href="#接口" class="header-anchor">#</a> 接口</h3> <h3 id="类"><a href="#类" class="header-anchor">#</a> 类</h3> <ul><li>class 继承</li> <li>解释器 @Component</li> <li>修饰符
<ul><li>private</li></ul></li> <li>断言 !</li> <li>泛型</li> <li>接口</li></ul> <div class="gitalk-container"><div id="gitalk-container"></div></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">9/4/2020, 10:45:59 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.c7f0bb16.js" defer></script><script src="/assets/js/2.8fc9632e.js" defer></script><script src="/assets/js/3.d0ce4dad.js" defer></script><script src="/assets/js/13.1310b520.js" defer></script>
  </body>
</html>
